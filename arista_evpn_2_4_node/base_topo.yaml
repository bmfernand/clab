name: vxlan

topology:
  kinds:
    ceos:
      image: ceos:4.31.1F
    linux:
      image: ghcr.io/hellt/network-multitool
  nodes:
    ixp:
      kind: bridge
    spine-101:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    spine-102:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    leaf-1101:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    leaf-1102:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    leaf-1103:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    leaf-1104:
      kind: arista_ceos
      image: ceos
      # startup-config: ceos.cfg
    h1:
      kind: linux
    h2:
      kind: linux
    h3:
      kind: linux

  links:
    - endpoints: ["leaf-1101:eth7", "spine-101:eth1"]
    - endpoints: ["leaf-1101:eth8", "spine-102:eth1"]
    - endpoints: ["leaf-1102:eth7", "spine-101:eth2"]
    - endpoints: ["leaf-1102:eth8", "spine-102:eth2"]
    - endpoints: ["leaf-1103:eth7", "spine-101:eth3"]
    - endpoints: ["leaf-1103:eth8", "spine-102:eth3"]